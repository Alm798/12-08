# Домашнее задание к занятию "`Резервное копирование баз данных`" - `Михеев Алексей`


### Домашнее задание выполните в Google Docs или в md-файле в вашем репозитории GitHub.

Для оформления вашего решения в GitHub можете воспользоваться шаблоном.

Название файла должно содержать номер лекции и фамилию студента. Пример названия: «12.8. Резервное копирование баз данных — Александр Александров».

Перед тем как выслать ссылку, убедитесь, что её содержимое не является приватным, то есть открыто на просмотр всем, у кого есть ссылка. Если необходимо прикрепить дополнительные ссылки, просто добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.
   
Желаем успехов в выполнении домашнего задания!


### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

### Ответ:

1.1 Подходит полное резервное копирование (full backup). Каждый день выполняется полный дамп базы данных. При сбое можно восстановить состояние БД за конец предыдущего дня.

1.2 Подходит журналирование (WAL для PostgreSQL, binlog для MySQL) или дифференциальное/инкрементное копирование.Можно делать ежедневный полный бэкап + архивирование журналов транзакций, что позволяет «докрутить» базу до нужного момента времени (например, за час до сбоя).

1.3 Да. Это называется репликация и кластеризация (например, master-slave репликация, Patroni + etcd для PostgreSQL, MySQL Group Replication).
При отказе основной БД выполняется failover – переключение клиентов на реплику, которая продолжает работать почти без простоя.

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

### Ответ:

2.1 Базовая команда `pg_dump <имя_базы> > <файл_сохранения>`.

Команда `pg_restore`  извлекает архивный файл, созданный командой `pg_dump`, и восстанавливает выбранную базу данных PostgreSQL. Для указания базы данных нужно задать параметр `-d` - `pg_restore <имя_базы> <файл_сохранения>`.

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 




---


